<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ea28623f-3927-4697-b0f1-34d13b38c8b6" activeEnvironment="Default" name="AgencySweepProject - Automation" resourceRoot="" soapui-version="5.1.3" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="TestSuite - Fail"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="Payment may not be failed - Payment has been sent to ACH file"/>
  <con:entry key="Print Report" value="true"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="05e8eff4-a5f0-4db7-b725-c92f645a2ec7" wadlVersion="http://wadl.dev.java.net/2009/02" name="Authorization" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Authorization" path="/sweepauthorization/authorize" id="eff9b102-beb6-40bd-a774-ef375b7988ed"><con:settings/><con:parameters/><con:method name="Authorization" id="b9a4faf2-3a0f-4382-a85e-4c9598dba73b" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405 404 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:aut="http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization">aut:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2214ad60-2c69-4099-aae2-4ccc941d536f" wadlVersion="http://wadl.dev.java.net/2009/02" name="Pay Transaction" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Pay" path="/sweeppay/pay" id="d2930656-075d-4098-8da6-f0a554fbb44b"><con:settings/><con:parameters/><con:method name="Pay" id="a956ccce-17bf-4a88-b75f-e6b12628b39e" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:pay="http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay">pay:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="fd5882fb-4e6d-4e7a-8688-63438cd74513" wadlVersion="http://wadl.dev.java.net/2009/02" name="Cancel(micro)" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Cancel" path="/sweepcancel/cancel" id="50672946-de46-4181-97b0-29a2b5c415c4"><con:settings/><con:parameters/><con:method name="Cancel" id="15832cc5-3d88-4705-ac75-2517fc745e5e" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 405 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:aut="http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization">aut:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"200","agencyNumber":"02512"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="889056c0-fd62-4216-8102-6c2470419eb4" wadlVersion="http://wadl.dev.java.net/2009/02" name="Fail" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Fail" path="/sweepfail/fail" id="9d51b06e-e388-495e-8982-1d657f3727ce"><con:settings/><con:parameters/><con:method name="Fail" id="110e9866-a9dc-435b-a378-9f755af812f9" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405 500 404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:fail="http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail">fail:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="Request 1" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"200","agencyNumber":"02512"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="2c8ce72c-a74b-4b98-99ea-41a5b9268323" wadlVersion="http://wadl.dev.java.net/2009/02" name="Authorization - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Authorize​" path="/sweepauthorization/authorize" id="14fe7e07-47fb-46e7-9da3-7a8066b6b6ac"><con:settings/><con:parameters/><con:method name="Authorize​" id="d0045ff1-6c4a-4873-b4fc-741a6570c8db" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 403 500 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/></con:representation><con:request name="Request 1" id="050323b7-e4e2-4624-b1a3-8a5d4f47921a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization​/authorize​</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="0c319ec0-c644-4ca9-8461-9e842443e373" wadlVersion="http://wadl.dev.java.net/2009/02" name="WebserviceWithWrongURI" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="" path="/wrongURI" id="02dcd539-e22b-4067-ae16-138c62fe4389"><con:settings/><con:parameters/><con:method name="" id="ea507002-ef97-4ef4-b56f-cdeda8833615" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="96c04b65-9ed3-4280-9eaf-64a0be005bd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/wrongURI</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="92da3b15-048b-496e-8299-3a4cf59ff1ed" wadlVersion="http://wadl.dev.java.net/2009/02" name="Pay Transaction - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Pay" path="/sweeppay/pay" id="feb40a8f-f40e-45ff-8570-5a820e59ce2c"><con:settings/><con:parameters/><con:method name="Pay" id="eee22ab2-c08b-409d-a548-2f74634372e6" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="c3a9e32f-1123-44ab-ab73-4feed61d8bc5" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppay/pay</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="822e6fe6-099f-4a46-b148-afe7246ff777" wadlVersion="http://wadl.dev.java.net/2009/02" name="Cancel(micro) - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Cancel" path="/sweepcancel/cancel" id="744c8291-0d59-4748-bf1f-c7ab4da8797d"><con:settings/><con:parameters/><con:method name="Cancel" id="a5587388-f9fe-4d59-a816-dab8c5345616" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="c1c45180-d372-4764-b0ed-dd48ac0cbdcb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepcancel/cancel</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="92651dda-63eb-4930-9b23-4d6bf9f8ad9c" wadlVersion="http://wadl.dev.java.net/2009/02" name="Fail - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agenysweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Fail" path="/sweepfail/fail" id="beb83eef-7289-4120-b266-14540dd58b6d"><con:settings/><con:parameters/><con:method name="Fail" id="af50cb67-62b7-439b-9c60-ab09ee02d904" method="GET"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/><con:element xmlns:fail="http://agenysweep-n1.qa1.mmi.mig.corp/sweepfailpayment/fail">fail:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>405</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="2ab37dbb-5319-4dda-b2a7-2939e4af8659" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agenysweep-n1.qa1.mmi.mig.corp/sweepfailpayment/fail</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="6f7a6cdc-6cf3-4401-9669-506ae7527e57" wadlVersion="http://wadl.dev.java.net/2009/02" name="Duplicate payment" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="URI" path="/URI/abc" id="2822f5c9-e330-403e-80ab-365553c077e6"><con:settings/><con:parameters/><con:method name="URI" id="bc860383-d9d2-471d-a047-2fb8ff82fd46" method="POST"><con:settings/><con:parameters/><con:request name="Request 1" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="7528d1d1-07e5-4bf0-b1f4-3d785bb375fa" wadlVersion="http://wadl.dev.java.net/2009/02" name="Duplicate payment - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="" path="/URI/abc" id="cf615182-f1d6-407c-be0b-801244f965bf"><con:settings/><con:parameters/><con:method name="" id="4477c4f7-ea45-4248-b51f-bff10e6542d1" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="34402738-3273-4a3e-872a-3b150bafb854" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="e98bc086-7759-4330-a149-d430a575af58" wadlVersion="http://wadl.dev.java.net/2009/02" name="Reverse payment" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Reverse​​" path="/sweepreverse/reverse" id="b2e0b07f-8df8-4993-a115-8e89f25f82b7"><con:settings/><con:parameters/><con:method name="Reverse​​" id="4ae3deb8-d14d-4ba6-abc9-737a31dd7921" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/></con:representation><con:request name="Request 1" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="fe0ca172-9ace-42fb-8c47-8bb4038aefa1" wadlVersion="http://wadl.dev.java.net/2009/02" name="Reverse payment - Wrong http method" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint></con:endpoints><con:resource name="Reverse​​" path="/sweepreverse/reverse" id="defde72b-3f54-4b8d-a6d1-7b0600e5a557"><con:settings/><con:parameters/><con:method name="Reverse​​" id="b9437344-afc1-451c-ad7a-ade3c5c43b6c" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404 405</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>202</con:status><con:params/></con:representation><con:request name="Request 1" id="26b8adbe-9a74-42b0-b95a-be4cb5431811" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="conten-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="b7f56182-12dc-42ce-bc63-aeb2cec08a7b" name="TestSuite - Authorization"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="bd678d19-1761-44da-b269-20d6aa7cab5f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agency is authorized for sweep" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AgencyNumber - 02512,Others - valid value" id="790928a5-c298-4659-a5df-6dd33188693b"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 02512,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc","userId":"123abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="355a7ff5-e7e7-4035-b844-d4741b913b51" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c79e58a7-d8bb-41a5-9ae8-34654e16d3e3" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def sweepAccess = root.get("sweepAccess");

assert requestStatus == 0;
assert sweepAccess == true;</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a5b3c89b-ea5c-481b-a702-39a9aab3e2b5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 02512,Others - min boundary value" id="14051448-b6a7-4440-9b21-91ee8d87763b"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 02512,Others - min boundary value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"1","userId":"a"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6bc8a981-852b-4a34-ba57-18caa1004f4e" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="06233693-dd41-4af1-9636-902a441bd726" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="61434309-88be-4ae4-b9c2-91d0501183a6" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def sweepAccess = root.get("sweepAccess");

assert requestStatus == 0;
assert sweepAccess == true;</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 02512,Others - max boundary value" id="043f10c6-61c1-4fde-86bb-549104f74e8f"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 02512,Others - max boundary value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz123","userId":"1234567890abcdefghij1234567890"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="43bad1ba-fbac-4624-8256-a0003e5b9abe" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="78603c42-7336-4407-bdd1-dd14cdb03f8d" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="724370ad-d991-469b-8c20-81559ef950f8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def sweepAccess = root.get("sweepAccess");

assert requestStatus == 0;
assert sweepAccess == true;</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 02512,Others - with special character" id="687cd683-757c-4586-b75c-a0d66d3b2e8e"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 02512,Others - with special character" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"!?8H&amp;&lt;*","userId":"??*&amp;%#"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5c850ddf-0754-4e0e-aefe-598086e3eadb" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c0ae7375-ba1e-45d5-830c-e0fa53870f71" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def sweepAccess = root.get("sweepAccess");

assert requestStatus == 0;
assert sweepAccess == true;</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="113fb8d5-4355-4173-b220-f2d593300a43" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ba6a521b-f186-4a53-a042-e2b0a0539d63" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Agency is not authorized for sweep" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AgencyNumber - 00000,Others valid value" id="7031dd5d-78ed-4f6f-b2a8-5f48ee6e6543"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 00000,Others valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"00000","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0cc449f6-e26a-4d83-9846-4d4450fb8856" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="50719b76-6ffd-4dcd-95a0-0aea08725395" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b1533582-0578-4b99-9fa3-ac8d194dc461" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def sweepAccess = root.get("sweepAccess");

assert requestStatus == 0;
assert sweepAccess == false;</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="bfb67730-773c-456e-92f0-8c2d6981bd02" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Invalid agency number" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AgencyNumber - abcde,Others - valid value" id="24e3ba30-9d6a-4c38-8228-6e01a4ad41ad"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - abcde,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"abcde","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="72754993-dda2-4e07-9e10-7ae6b68105c0" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="5c920ced-7f59-4cb8-957c-162a429112d1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="53c838d5-84c9-4e95-979e-ea3e39c67eee" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 1234,Others - valid value" id="e4105581-ce17-4aca-8abc-2abdebc7f7f5"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 1234,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"1234","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="32ebaf40-72eb-4856-a970-488a716924f1" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="edbb1ba7-1c9e-4f58-a1ba-fa855f18639c" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="24f6d7bf-3c07-42d9-b116-2d396400a559" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 123456,Others - valid value" id="59001cdf-c522-45d6-a57c-e6399100a886"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 123456,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"123456","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="GroovyScriptAssertion" id="718ea893-b38d-4fd9-8809-2ea52f713d3a" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="062db96e-3512-48e4-9dd4-d2c3d2c46855" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="085540e0-b19e-4f3a-a4a7-fb04e6eaa1cf" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - null,Others - valid value" id="274509ae-e82b-47ba-a9f2-428799fd405c"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - null,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="faff588c-f458-447d-b644-74400f7c7ced" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a1b50dd3-2eb5-4ddb-ba86-372dc813e7b1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="56ccbc11-cd2d-47b6-b199-70c2732b52d0" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 123ab,Others - valid value" id="d1dcfe54-afc0-4792-a398-5c0999f0d772"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 123ab,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"123ab","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d2e042dd-7676-40dc-a0f9-fa5008e88f2d" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f7bb85d7-bb88-4876-be3c-b35e113c7c3b" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b2460de7-bca7-48dd-af05-08b2c5ca01a0" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 123$?,Others - valid value" id="80bd2603-bc02-46e7-a3d6-cd4cc600dfa2"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 123$?,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"123$?","billingSystemAccount":"abcdefg","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d61ba59f-bc8d-482f-8af8-5631ffcf6a6a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="945dc891-6654-48e7-b505-79e4728ac4b2" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e3972342-8adc-433e-86b3-e874b05abcd6" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="894e922b-22af-408b-9ace-0e34339de389" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Invalid billing system account" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="BillingSystemAccount - 256 characters,Others - valid value" id="813aeb37-2284-4588-be7b-7c251467e443"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="BillingSystemAccount - 256 characters,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="GroovyScriptAssertion" id="7cf473d3-d07a-42e0-918d-97629e1d15d0" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="40132790-af43-47a4-9276-aa265ba4cf77" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: billing system account";</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="af99fb74-1c39-4c0e-9d9b-09390c1d1340" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="BillingSystemAccount - null,Others - valid value" id="a6d42755-0b75-4e96-aefc-39b965e95b2d"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="BillingSystemAccount - null,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"","userId":"23abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6b2badfb-f5e5-469a-91f6-3f1243711e9a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="23b775ac-bc56-42e5-9cf8-db3eeb25ec16" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="75dc79da-c62a-475f-9220-68811770ecaa" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: billing system account";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a09b3ce1-71c4-4964-8ed7-5fc102062d76" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Invalid user Id" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="UserId - 31 characters,Others - valid value" id="dc622efb-b3f1-476e-9ffc-8d5f7d17bcb8"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UserId - 31 characters,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"abcdefg","userId":"1234567890abcdefghijk1234567890"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="GroovyScriptAssertion" id="54bb4505-82c2-4fc5-9528-6f07cef1cb85" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: user id";</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e2b3fb7d-a892-44ea-a4e2-d1ad07f634d8" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="fe32c963-2a12-401b-a2a4-c1e1c1173be4" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UserId - null,Others - valid value" id="3cfe0e79-aebf-4ec3-bfcc-c5338f08594f"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UserId - null,Others - valid value" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"abcdefg","userId":""}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="GroovyScriptAssertion" id="9b48e901-4689-4d39-9f14-f2424f944071" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="45f1cf1b-4ac1-498a-82a2-ac4fb0113b67" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: user id";</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="63682e5c-91b8-4707-97d3-bd5a96c222ac" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="d96a38d3-19d7-4297-8d32-f2b6ebbff39c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="9c483685-a60a-4675-be83-2c8a574b6f33"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d9f78011-1e0c-44fa-8466-605de3fdaf58" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="8c02d5be-cbd3-4ff8-a01f-40105ee8e533" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f55631a0-7dcc-413d-8178-93d255b203db" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number, billing system account, user id";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="b037f57b-e21c-4659-8191-0a66d45a28aa" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - wrong conten-type" id="c920b1d5-1e4e-40d4-adb8-a5ef91af879f"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - wrong conten-type" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc","userId":"123abc"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="969f827c-3859-4f46-9269-c60a463d11e9" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="9601c7d3-1323-402a-9389-61c7d46ffd78" name="TestSuite - Pay Transaction"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="35718b5f-71ec-4b26-8de6-f137b093bdfa" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with all valid value - Regular value" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Send request" id="6002ef63-3f68-485a-b8f3-aff71badfab2"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}","checkNumber":"${#TestCase#Check_Number}","insured":"${#TestCase#Insured}","paymentAmount":"${#TestCase#Payment_Amount}","userId":"${#TestCase#User_Id}"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="c84cfd59-5349-4455-8aa6-333475776243" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def paymentTransactionId = root.get("paymentTransactionId");

assert requestStatus == 0;
def strPaymentTransactionId = ""+paymentTransactionId;
//assert strPaymentTransactionId.matches("^[0-9].*");

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString());</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="d741aae7-96c4-4a81-9ff7-2600c8dcc03e" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="63ff3239-fac2-4029-a1ab-5ff06d1c9d7c" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check Sweep database" id="97be06c4-0e97-4525-a661-ac52f228ee8b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from payment_Transaction
where Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}' 
and Transaction_Type = 'P'
and Agency_Number = '${#TestCase#Agency_Number}'
and User_Id = '${#TestCase#User_Id}'
and Billing_System_Account = '${#TestCase#Billing_System_Account}'
and Check_Number = '${#TestCase#Check_Number}'
and Payment_Amount = '${#TestCase#Payment_Amount}'
and Insured = '${#TestCase#Insured}'
and Reference_Transaction_Id is null
and Create_TimeStamp is not null
and Processed_TimeStamp is null
and Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="3a09e93c-8b87-4e57-b0da-116746cf8ece" name="Check Pay Transaction Row"><con:configuration><scriptText>def rowCount = context.expand( '${Check Sweep database#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>esw130</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>001</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value>abcd1234</con:value></con:property><con:property><con:name>Payment_Amount</con:name><con:value>123.54</con:value></con:property><con:property><con:name>Insured</con:name><con:value>personAmy</con:value></con:property></con:properties></con:testCase><con:testCase id="ef6880d4-a1e3-4c87-a29a-280c5d87fab1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with all valid value - Max boundary value" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Send request" id="ed0cc91c-f72f-4813-b4f6-4deabc8fd2f1"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}","checkNumber":"${#TestCase#Check_Number}","insured":"${#TestCase#Insured}","paymentAmount":"${#TestCase#Payment_Amount}","userId":"${#TestCase#User_Id}"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a66a0080-b42b-4738-8e1c-5a3416e8843b" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4ba06a6e-7133-4224-95f1-056066090e61" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="74b92676-9050-43a0-8de8-b0b11fafcb65" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def paymentTransactionId = root.get("paymentTransactionId");

assert requestStatus == 0;
def strPaymentTransactionId = ""+paymentTransactionId;
//assert strPaymentTransactionId.matches("^[0-9].*");

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check Sweep database" id="9cbaf5e0-e653-4d0b-839b-bc65c627936b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from payment_Transaction
where Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}' 
and Transaction_Type = 'P'
and Agency_Number = '${#TestCase#Agency_Number}'
and User_Id = '${#TestCase#User_Id}'
and Billing_System_Account = '${#TestCase#Billing_System_Account}'
and Check_Number = '${#TestCase#Check_Number}'
and Payment_Amount = '${#TestCase#Payment_Amount}'
and Insured = '${#TestCase#Insured}'
and Reference_Transaction_Id is null
and Create_TimeStamp is not null
and Processed_TimeStamp is null
and Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="69153c56-9955-4931-8526-1b07c2f605ef" name="Check Pay Transaction Row"><con:configuration><scriptText>def rowCount = context.expand( '${Check Sweep database#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>esw131</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>1234567890abcdefghij1234567890</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz123</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value>abcd1234</con:value></con:property><con:property><con:name>Payment_Amount</con:name><con:value>250000.00</con:value></con:property><con:property><con:name>Insured</con:name><con:value>1234567890abcdefghij</con:value></con:property></con:properties></con:testCase><con:testCase id="254a8311-4be0-4756-ad45-47095f1708a7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with all valid value - Min boundary value" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Send request" id="d7ba0c88-328b-4e48-90e0-1eee494c4fce"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}","checkNumber":"${#TestCase#Check_Number}","insured":"${#TestCase#Insured}","paymentAmount":"${#TestCase#Payment_Amount}","userId":"${#TestCase#User_Id}"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="861280e2-70ee-42df-a5e6-5905fc4ff456" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="fe74f76f-e202-43a2-87a2-d001929296ff" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58c843d7-16bd-434d-887a-554dfccba693" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def paymentTransactionId = root.get("paymentTransactionId");

assert requestStatus == 0;
def strPaymentTransactionId = ""+paymentTransactionId;
//assert strPaymentTransactionId.matches("^[0-9].*");

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check Sweep database" id="cf2930ed-1ad2-487d-8c81-363c5c5a7cff"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from payment_Transaction
where Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}' 
and Transaction_Type = 'P'
and Agency_Number = '${#TestCase#Agency_Number}'
and User_Id = '${#TestCase#User_Id}'
and Billing_System_Account = '${#TestCase#Billing_System_Account}'
and Check_Number = '${#TestCase#Check_Number}'
and Payment_Amount = '${#TestCase#Payment_Amount}'
and Insured = '${#TestCase#Insured}'
and Reference_Transaction_Id is null
and Create_TimeStamp is not null
and Processed_TimeStamp is null
and Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="d0fed082-2a84-4878-90b4-7c3e94b653fe" name="Check Pay Transaction Row"><con:configuration><scriptText>def rowCount = context.expand( '${Check Sweep database#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>esw132</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>0</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>1</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value/></con:property><con:property><con:name>Payment_Amount</con:name><con:value>1.00</con:value></con:property><con:property><con:name>Insured</con:name><con:value>a</con:value></con:property></con:properties></con:testCase><con:testCase id="bf2afa9d-0ad5-4542-b67e-a387a4318caa" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with all valid value - With special character" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Send request" id="3364e09c-89eb-46c0-95a1-9913623a32c6"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}","checkNumber":"${#TestCase#Check_Number}","insured":"${#TestCase#Insured}","paymentAmount":"${#TestCase#Payment_Amount}","userId":"${#TestCase#User_Id}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="27017f76-f737-4cc5-bce8-196c23e861f1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="43b911d1-c8df-44d2-83db-8871187dbe0a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0c43f272-af6d-46d3-b051-b6e6ee24bb30" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def paymentTransactionId = root.get("paymentTransactionId");

assert requestStatus == 0;
def strPaymentTransactionId = ""+paymentTransactionId;
//assert strPaymentTransactionId.matches("^[0-9].*");

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString());</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check Sweep database" id="bc168277-01d7-4dcc-a130-ed836b4fcc71"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from payment_Transaction
where Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}' 
and Transaction_Type = 'P'
and Agency_Number = '${#TestCase#Agency_Number}'
and User_Id = '${#TestCase#User_Id}'
and Billing_System_Account = '${#TestCase#Billing_System_Account}'
and Check_Number = '${#TestCase#Check_Number}'
and Payment_Amount = '${#TestCase#Payment_Amount}'
and Insured = '${#TestCase#Insured}'
and Reference_Transaction_Id is null
and Create_TimeStamp is not null
and Processed_TimeStamp is null
and Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="93f7df63-addb-484d-9405-022e5c408084" name="Check Pay Transaction Row"><con:configuration><scriptText>def rowCount = context.expand( '${Check Sweep database#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>esw133</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>!23$*7</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>!@#$%^&amp;*</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value>?%^&amp;*</con:value></con:property><con:property><con:name>Payment_Amount</con:name><con:value>1</con:value></con:property><con:property><con:name>Insured</con:name><con:value>!@%^</con:value></con:property></con:properties></con:testCase><con:testCase id="fe3de93e-e63b-402a-9218-aae7d95fd69c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid agency number" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AgencyNumber - abcde,Others - valid value" id="14aee632-9e90-4070-af36-c3470bef0857"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - abcde,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"1234","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="280c377b-0a50-42f7-876e-2098e6ca95f1" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3d45f084-dedc-455e-805a-1f2dc654b955" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="277f9c54-8918-4254-b63f-6ecd1c77b757" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 1234,Others - valid value" id="324565e3-155f-44c1-8f01-92fbb081f84f"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 1234,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"1234","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="bc96ee6e-560d-4bf8-be38-23ddfaa9b8ba" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d394e289-cd80-4f42-a838-5dd55a76554f" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="85439bc7-9e34-4acf-b961-9c1f68ffb9d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 123456,Others - valid value" id="54291257-7c99-4c36-8f16-d74ed4211006"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 123456,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"123456","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="60a42ed5-7201-4eb9-b9c7-1ba8da859ed0" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="edd5f747-e3c5-4bac-a787-9ad709a1a2f5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="da79f7eb-eda5-491e-a745-7f88280baca7" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 1234a,Others - valid value" id="745de751-003d-4b1a-8af3-5bf0e408134a"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 1234a,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"1234a","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="66e8f866-39a8-4389-88bd-42de8ad458d3" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3a6e3072-a161-43aa-80e9-1b10d25fa2fc" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="11c3437f-9e25-42de-98f5-9125bb697589" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - 123$?,Others - valid value" id="57dc2f4d-f719-4813-9b1a-6e30b7d661fd"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - 123$?,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"123$?","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f81eb209-2fb5-46b7-83a5-6a6503d35f2a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9efa6b8b-b9b6-4959-86dd-7281fa119ccf" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="251d373f-7d91-4a37-b5b4-5fd013c48147" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AgencyNumber - null,Others - valid value" id="de84c5f2-3bf5-42ee-9b66-8591264b9c35"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AgencyNumber - null,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="594be686-5a31-4e4f-b4f1-8b2f6cf70d3b" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="27972292-5ff6-4ab6-a27a-58b466d8f7f6" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="488d741b-f8f1-484e-a822-932d097f0a17" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="dd743a89-f519-4e13-bd41-fcb8de07eb9a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid billing system account" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="BillingSystemAccount - 256 characters,Others - valid value" id="2f359f70-6623-47d0-81ea-296abb939dd3"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="BillingSystemAccount - 256 characters,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234567890abcdefghijklmnopqrstuvwxyz1234","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a1544d0e-4e1d-40c5-8c85-dec814cb504f" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a1fedcde-dc0f-457f-9109-0886ab789bf3" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="52218d2b-98d4-412e-8c3f-db6e6b8bbbba" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: billing system account";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="BillingSystemAccount - null,Others - valid value" id="71222121-34e4-4889-a847-3b6333cd97d4"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="BillingSystemAccount - null,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c9e3d739-82b7-4380-9df0-c038f56b05ae" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="69e93352-d54b-4153-ab2b-bac31cfa6194" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a40348a3-5455-4339-b22a-e3bb71ca7712" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: billing system account";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="bdfa0b42-bb3e-433a-8a91-8b517889b13c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid check number" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="CheckNumber - 11 characres,Others - valid value" id="af6ee881-7ac6-4003-ba57-bc89483ca36e"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckNumber - 11 characres,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcdef12345","insured":"personAmy","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="a18690a4-3b2d-45bb-87d0-b577f1ea4462" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="5bd3472f-bab9-4add-8573-cd40dc7efad1" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f719ad20-c40e-443a-92b7-6a310d634406" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: check number";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c778e91d-8ad1-45ef-abde-8e8f3d237c83" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid insured" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Insured - 21 characters,Others - valid value" id="854169e3-0b90-4261-8805-4e564eaa6363"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Insured - 21 characters,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy012345678901","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="70e1eb85-071a-47f8-b6fa-4b013c039e07" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="beca88e9-9301-47c6-b25f-8e475eb753d6" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="af24e06d-7f90-4920-8872-52431a34c008" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: insured";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Insured - null,Others - valid value" id="faf671d4-c395-4329-bc59-0e3e56e9f97b"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Insured - null,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"","paymentAmount":"123.54","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3b9161a2-7b13-4f0e-a22b-7dcc79fa5342" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f62a21a4-19b1-481d-bdf9-b7c6012b1d43" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="42cf04e1-271a-4f43-8605-05eee8e5678e" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: insured";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="9fc02ea3-424a-4dbf-a25f-4421a4f8d52c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid payment amount" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="PaymentAmount - 250000.01,Others - valid value" id="c22f328c-93d3-4416-aeee-f572973acfcd"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - 250000.01,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"250000.01","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6fa80f97-6a3f-47b2-93c9-c9dcabb6cc25" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="686e62ed-c350-4766-8c64-2a4848c02b12" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="438df797-2440-46cc-b9a6-de0d5ee146c2" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymnetAmount - 0.99,Others - valid value" id="abe531e2-5f7f-4095-8216-3b66ad592230"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymnetAmount - 0.99,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"0.99","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="cbcb3afb-e91f-4540-9c6e-e8b79d8b4022" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="47c41882-dda7-4241-87c2-ef271b9b6e8e" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="62ae2d64-b4cf-4056-a884-c21916239f1f" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - 1.001,Others - valid value" id="f520397f-92e9-4de3-8238-d9f3a3570e8f"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - 1.001,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"1.001","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="9cde223a-40de-4f6d-b2e1-c1f9ce77442f" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="7e150bd7-c561-4060-9ad4-c6e1842f0536" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0c5ab72e-1240-4407-83c3-9d4b9f357cb4" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - 1.1.1,Others - valid value" id="db08fd30-8fc8-49e9-b966-fad9624bd5ff"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - 1.1.1,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"1.1.1","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="35e8e095-e5e8-4bf3-afa8-301b9fa76d1f" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="cdc00835-6567-4011-9697-e3068d24e3e7" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="472e3915-b407-41ba-a3db-67028064c2ee" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - ab.ce,Others - valid value" id="a675853b-f077-4351-98d7-626f2d3edf9f"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - ab.ce,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"ab.ce","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0ac1dd49-c6ad-4800-a301-3b9cc5215fe4" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="55d15298-062f-49ef-8518-3c3056f7d32b" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="9b8115d9-84b0-40fe-9dc2-67b3ca6b78f0" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - 1,000.25,Others valid value" id="1aa56066-5e6c-40b8-9a03-52155001132a"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - 1,000.25,Others valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"1,000.25","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8d699db0-b10c-4dc9-8c8c-d66a9610b088" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2889a6d3-2c3d-4e96-8238-2469977253e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b1bbf767-8f40-4289-aa6a-a41ab167575e" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - $100.25,Others - valid value" id="4d347828-e677-442d-aa26-0390fc489328"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - $100.25,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"$100.25","userId":"001"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="9572e9a3-29dd-4398-bf8c-bda64980c7d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="4ac2a056-817b-43b2-a9de-03bdfa6a66b0" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b6faf8ee-4879-4f37-859d-bd049e9dffb9" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="PaymentAmount - -28,Others - valid value" id="63a7ce5e-5f62-4011-a93b-a08d213b85d0"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="PaymentAmount - -28,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personaAmy","paymentAmount":"-28","userId":"001"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="GroovyScriptAssertion" id="090f65ce-e7d6-4b2b-91c6-c2e48a1fc5cb" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="6b22e617-2694-4fd9-a408-6ebb4c949b3a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="135d7fd9-4799-4cdb-b810-d6e18052c83e" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: payment amount";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="feb93cfc-43df-46db-88d8-7a786e7a0f01" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post with invalid user id" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="UserId - 31 characters,Others - valid value" id="a0ddfc2f-ae6a-44f2-8f0f-8be957bf384e"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UserId - 31 characters,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":"1234567890abcdefghijk1234567890"}
</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5493837e-1b80-42b0-b48f-2f6102903028" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="af79076e-7c73-4771-8580-64dc4ff2481d" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]
</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="73f6858d-a76f-41ba-a816-38f7866a85c6" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: user id";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="UserId - null,Others - valid value" id="e398c5dc-7d6a-4cf3-8b42-ad61bd18a7dd"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="UserId - null,Others - valid value" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"02512","billingSystemAccount":"123abc123","checkNumber":"abcd1234","insured":"personAmy","paymentAmount":"123.54","userId":""}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4f5d02b5-b7ef-4044-a2ee-272663d80913" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="926b9401-ab26-41bc-9627-db788693e82f" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]
</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="316f6ecd-2466-47ad-ae74-9bd23c7dbe6c" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: user id";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="e0ddbd73-aa81-454a-ac0f-f57b69eb5634" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="082072e2-bca1-42db-9993-628ccef7636f"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="09f590a0-97c1-4c31-bb54-74efaccc9235" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="1da1a864-ef13-4b95-ad43-c52dc69f1514" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Invalid input: agency number, payment amount, billing system account, insured, user id";</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a6ab193e-bdcc-43a9-93bc-d53ab3046790" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="9d788c82-df3e-477e-bb3d-2c58f2ad3448" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - wrong content-type" id="0c2f50f7-4acd-4504-bfbb-d904fcd5b963"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - wrong content-type" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6fcf21ec-e544-422c-96fb-413c95b57e5d" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="ddcf89a6-68b6-436a-8caf-6a5db6374627" name="TestSuite - Cancel(micro)"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="e91854db-0a4f-4f2a-9915-ccdf97d61887" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="551502f0-85bc-4efa-837d-e106fc687836"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="70187fc6-64f9-4930-87c5-ead6d9105d64" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e3ce22c5-016e-45aa-9cb8-ab4019eea606" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be cancelled";</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="986408e8-1e02-4012-a8b9-f99113842284" name="Check Headers"><con:configuration><scriptText>
assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a2b3b79a-07e4-4526-9433-005cb3ff4abb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - wrong content - type" id="048084cc-d332-4c8d-b6d4-dce5fe8603b3"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - wrong content - type" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"","agencyNumber":"02512"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="76e076de-d952-4587-aba2-37930ccfc268" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a42c960e-3c4d-4c06-892c-05d6ea319d7c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be cancelled - Cancel transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="43c35617-f9d9-4bb4-af89-ce942b71c4df"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'C'</con:query><con:assertion type="GroovyScriptAssertion" id="f25c4546-6797-43fd-b1c1-78a4c33781e7" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="cd1eaa31-abf8-4262-8798-95870566f17f"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccc7b206-4b1a-46cb-9a06-ffe11f4695d2" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="66e6378e-3df5-4a4b-a133-71bab6af1975" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7b060e1b-1341-4f58-a6ac-37fc66033f51" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be cancelled";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>Payment_Transaction_Id</con:name><con:value>120</con:value></con:property></con:properties></con:testCase><con:testCase id="4cf347d8-f7c8-49ac-b443-0c6a66f2a608" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be cancelled - Reversal transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="19fa33f7-4e6d-4f32-b1a8-8ef5743c40c6"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'R'</con:query><con:assertion type="GroovyScriptAssertion" id="f25c4546-6797-43fd-b1c1-78a4c33781e7" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="d8f3110c-3e30-47de-b28f-1ca8487489cc"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccc7b206-4b1a-46cb-9a06-ffe11f4695d2" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="66e6378e-3df5-4a4b-a133-71bab6af1975" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7b060e1b-1341-4f58-a6ac-37fc66033f51" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be cancelled";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property><con:property><con:name>Payment_Transaction_Id</con:name><con:value>60</con:value></con:property></con:properties></con:testCase><con:testCase id="149dbe2c-4cee-49f3-93fd-4aecc24c148d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be cancelled - Has been cancelled" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="7ce086c6-82d9-49db-98bc-a4ba643e2af0"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Payment_Transaction_Id,Agency_Number from Payment_Transaction where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'C')</con:query><con:assertion type="GroovyScriptAssertion" id="f25c4546-6797-43fd-b1c1-78a4c33781e7" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="d2380821-490b-46c1-b248-4db8ff06fd40"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccc7b206-4b1a-46cb-9a06-ffe11f4695d2" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="66e6378e-3df5-4a4b-a133-71bab6af1975" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7b060e1b-1341-4f58-a6ac-37fc66033f51" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be cancelled";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>Payment_Transaction_Id</con:name><con:value>111</con:value></con:property></con:properties></con:testCase><con:testCase id="0273ea63-2656-44de-87c4-7f44280a0b81" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be canceled - Payment has been sent to ACH file" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="f047b8e3-bce0-4d73-9095-4aae90c185aa"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction 
where Transaction_Type = 'P'
And Processed_TimeStamp is not null 
And Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id in ('C','F'))</con:query><con:assertion type="GroovyScriptAssertion" id="f25c4546-6797-43fd-b1c1-78a4c33781e7" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="cc8c0f92-b3dc-4bee-96ed-661043605d1b"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccc7b206-4b1a-46cb-9a06-ffe11f4695d2" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="66e6378e-3df5-4a4b-a133-71bab6af1975" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7b060e1b-1341-4f58-a6ac-37fc66033f51" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be cancelled";
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>Payment_Transaction_Id</con:name><con:value>1</con:value></con:property></con:properties></con:testCase><con:testCase id="0c868171-e886-4486-82d6-831a34099271" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Cancel Payment - Successfully - Payment has not been processed" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="d5398d84-1f08-4c2f-8910-27c70d572238"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 * from Payment_Transaction 
where Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id is not null)
And Transaction_Type = 'P' And Processed_TimeStamp is null</con:query><con:assertion type="GroovyScriptAssertion" id="f25c4546-6797-43fd-b1c1-78a4c33781e7" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
def userId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/USER_ID}')
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def checkNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/CHECK_NUMBER}')
def paymentAmount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_AMOUNT}')
def insured = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/INSURED}')

assert paymentTransactionId != ""
assert agencyNumber != ""

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())
context.getTestCase().setPropertyValue("User_Id",userId.toString())
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Check_Number",checkNumber.toString())
context.getTestCase().setPropertyValue("Payment_Amount",paymentAmount.toString())
context.getTestCase().setPropertyValue("Insured",insured.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="0975104c-206c-4ed4-b3b9-a8a18f81c92e"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ccc7b206-4b1a-46cb-9a06-ffe11f4695d2" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="66e6378e-3df5-4a4b-a133-71bab6af1975" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7b060e1b-1341-4f58-a6ac-37fc66033f51" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def cancelTransactionId = root.get("cancelTransactionId");

assert requestStatus == 0;
//assert errorDescription == "";
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check row of cancel transaction" id="61df61b3-d3ef-4cf1-a266-e2fa4444a659"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from Payment_Transaction where 
Agency_Number = '${#TestCase#Agency_Number}'
And Transaction_Type = 'C'
And User_Id = '${#TestCase#User_Id}'
And Billing_System_Account = '${#TestCase#Billing_System_Account}'
And Check_Number = '${#TestCase#Check_Number}'
And Payment_Amount = '${#TestCase#Payment_Amount}'
And Insured = '${#TestCase#Insured}'
And Reference_Transaction_Id = '${#TestCase#Payment_Transaction_Id}'
And Create_TimeStamp is not null 
And Processed_TimeStamp is not null
And Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="6d34d392-fc62-4ee2-8856-51e2a325e9d9" name="Check row of cancel transaction"><con:configuration><scriptText>def rowCount = context.expand( '${Check row of cancel transaction#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Check row of cancelled payment" id="89e48963-fa87-4af3-b4aa-faf457c46771"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from Payment_Transaction where 
Agency_Number = '${#TestCase#Agency_Number}'
And Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}'
And Transaction_Type = 'P'
And Processed_TimeStamp is not null
</con:query><con:assertion type="GroovyScriptAssertion" id="6d34d392-fc62-4ee2-8856-51e2a325e9d9" name="Check row of cancelled payment"><con:configuration><scriptText>def rowCount = context.expand( '${Check row of cancel transaction#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>Payment_Transaction_Id</con:name><con:value>117</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>001</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Insured</con:name><con:value>personAmy</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value>abcd1234</con:value></con:property><con:property><con:name>Payment_Amount</con:name><con:value>123.5400</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="01c5aee2-3eb1-4efb-bba8-a6d77ac23c2a" name="TestSuite - Fail"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="933dc86e-fe7b-43f5-a418-bb41d87a3d6b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="5d30a892-0998-45e6-8827-808647a5131b"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content - type" value="" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="aad919ae-c320-4c04-8124-34714dbf31b7" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="dc62ff51-f047-487d-90ea-070071ea5c5d" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="a662b893-e159-4ee0-b0e1-a647ebb8dc9c" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="4d7b2bda-2e41-46d5-b47d-13ce5f0398c2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - Wrong content - type" id="c7985d99-9372-4507-8119-145da3e912e1"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - Wrong content - type" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content - type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="c23e5f7c-d8c9-43b8-a9aa-e649496e3a6d" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5d030e61-8ff5-4665-b6b2-795ed30cb880" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Cancel transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="1c093b6d-f611-4c5f-8e3f-d2d42882d7c6"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'C'</con:query><con:assertion type="GroovyScriptAssertion" id="bfdd1e33-3039-4f3a-b8b9-233135c05c95" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="87ba4c2a-7d5d-4b6b-928c-49eea4df0005"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e81f6256-4c23-4e83-907f-7a8d8a16d2eb" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7fbdbc7f-1720-469b-a6d1-10087c3615e3" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7e052331-5d8d-4b0e-8e9a-dbe7f949ddf8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>60</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property></con:properties></con:testCase><con:testCase id="a58b6dc5-1686-4837-9093-2ced7508357a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Fail transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="aefc5e03-e309-4198-a546-592e01941bfb"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'F'</con:query><con:assertion type="GroovyScriptAssertion" id="bfdd1e33-3039-4f3a-b8b9-233135c05c95" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="5ee3aba9-b98a-4b27-98e1-e4943ba66a05"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e81f6256-4c23-4e83-907f-7a8d8a16d2eb" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7fbdbc7f-1720-469b-a6d1-10087c3615e3" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7e052331-5d8d-4b0e-8e9a-dbe7f949ddf8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>60</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property></con:properties></con:testCase><con:testCase id="a1340fa9-5bc5-4797-8471-0793df178db3" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Reversal transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="5606ece1-f3ab-424e-817b-410739c052d1"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'R'</con:query><con:assertion type="GroovyScriptAssertion" id="bfdd1e33-3039-4f3a-b8b9-233135c05c95" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="6709d9bf-f34b-453a-9a12-4215229cbe47"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e81f6256-4c23-4e83-907f-7a8d8a16d2eb" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7fbdbc7f-1720-469b-a6d1-10087c3615e3" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="7e052331-5d8d-4b0e-8e9a-dbe7f949ddf8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>60</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property></con:properties></con:testCase><con:testCase id="d383e846-d081-4c90-89c1-28efc71c542d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Has been cancelled" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="9b5776a8-c49f-4e42-83c3-ecfe4c39d5dd"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Payment_Transaction_Id,Agency_Number from Payment_Transaction where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'C')</con:query><con:assertion type="GroovyScriptAssertion" id="7022108c-ecc5-40ca-8040-918db7efc448" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="df3fad96-01fd-463f-9ce5-dcba22409d96"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a859a2de-95e0-43c8-adab-c22b394c44fa" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f175b4ed-1777-4e12-b24d-1b26a937f91b" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="405d184c-3511-482a-8d97-1ce9e6fe7161" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>111</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="919f2426-06b6-47da-8936-5f6227f99d56" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Has been failed" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="9f7c0312-99db-4620-853e-fa79ff65804a"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Payment_Transaction_Id,Agency_Number from Payment_Transaction where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'F')</con:query><con:assertion type="GroovyScriptAssertion" id="7022108c-ecc5-40ca-8040-918db7efc448" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="6eb0e333-e2a0-4272-aacd-57aeb31b6ec8"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a859a2de-95e0-43c8-adab-c22b394c44fa" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f175b4ed-1777-4e12-b24d-1b26a937f91b" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="405d184c-3511-482a-8d97-1ce9e6fe7161" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>112</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="d8e93c93-eee0-4793-9be2-cdfb528cdd00" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be failed - Payment has been sent to ACH file" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="76924412-5ce6-427e-b368-d8a7ba9da593"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction 
where Transaction_Type = 'P'
And Processed_TimeStamp is not null 
And Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id in ('C','F'))</con:query><con:assertion type="GroovyScriptAssertion" id="1caad72f-98c4-4322-9cc0-10188bae9dcb" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send Request" id="b1e8c1c9-2e38-4ff4-8c66-28fba24a1dd8"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send Request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e8c733e3-d677-4120-a30d-f73b4e664eaa" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ee24242f-7bf8-4d6e-bfcb-385c408bc317" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e8ae6e77-84c4-45f1-b2fa-4df349f7913b" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be failed";
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>1</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="0e7e79fb-6d8b-4c04-a8cc-fb5b185982d8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Fail Payment - Successfully - Payment has not been processed" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="52fd48a8-3000-4e68-9d9b-a0954c294f9a"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 * from Payment_Transaction 
where Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id is not null)
And Transaction_Type = 'P' And Processed_TimeStamp is null</con:query><con:assertion type="GroovyScriptAssertion" id="7610baaa-3f24-4f7f-b41c-d8844155ad54" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
def userId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/USER_ID}')
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def checkNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/CHECK_NUMBER}')
def paymentAmount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_AMOUNT}')
def insured = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/INSURED}')

assert paymentTransactionId != ""
assert agencyNumber != ""

context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())
context.getTestCase().setPropertyValue("User_Id",userId.toString())
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Check_Number",checkNumber.toString())
context.getTestCase().setPropertyValue("Payment_Amount",paymentAmount.toString())
context.getTestCase().setPropertyValue("Insured",insured.toString())
</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="fee0022a-2212-4c0d-82e8-27f0861830bb"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="4bb88992-7745-4561-b074-6f95f9ee5638" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d4befdf6-20eb-4153-b984-c837c2266164" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="aab5572e-989e-4e55-8413-53d0e0428df8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "true";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check row of fail transaction" id="460aaa02-17e7-4788-a6ee-644856f40cff"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from Payment_Transaction where 
Agency_Number = '${#TestCase#Agency_Number}'
And Transaction_Type = 'F'
And User_Id = '${#TestCase#User_Id}'
And Billing_System_Account = '${#TestCase#Billing_System_Account}'
And Check_Number = '${#TestCase#Check_Number}'
And Payment_Amount = '${#TestCase#Payment_Amount}'
And Insured = '${#TestCase#Insured}'
And Reference_Transaction_Id = '${#TestCase#Payment_Transaction_Id}'
And Create_TimeStamp is not null 
And Processed_TimeStamp is not null
And Remittance_Process_TimeStamp is null
</con:query><con:assertion type="GroovyScriptAssertion" id="1b816722-ade7-4eb5-8973-2f72e2e0befc" name="Check row of fail transaction"><con:configuration><scriptText>def rowCount = context.expand( '${Check row of cancel transaction#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Check row of failed payment" id="2fede81b-dac5-42e1-ae7a-8c1f73828dc8"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select * from Payment_Transaction where 
Agency_Number = '${#TestCase#Agency_Number}'
And Payment_Transaction_Id = '${#TestCase#Payment_Transaction_Id}'
And Transaction_Type = 'P'
And Processed_TimeStamp is not null
</con:query><con:assertion type="GroovyScriptAssertion" id="95a5e3e4-48c6-4e11-a439-9b39f4555efc" name="Check row of failed payment"><con:configuration><scriptText>def rowCount = context.expand( '${Check row of cancel transaction#ResponseAsXml#count(//Row)}' ).toInteger()
assert rowCount == 1</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>116</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property><con:property><con:name>User_Id</con:name><con:value>001</con:value></con:property><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Check_Number</con:name><con:value>abcd1234</con:value></con:property><con:property><con:name>Payment_Amount</con:name><con:value>123.5400</con:value></con:property><con:property><con:name>Insured</con:name><con:value>personAmy</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="b14a43ce-4188-4384-92c3-08e3fc0ea6a8" name="TestSuite - Duplicate payment"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="714c8ab4-62f7-49e0-9e63-23526cc3cebb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="3606fdc1-4c02-4255-9cd0-a5577d934ae4"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:assertion type="Valid HTTP Status Codes" id="4ee467a7-1076-4245-ad71-1ffd813a458a" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b89656fe-cd90-40de-80ae-3d58a725139c" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "false";</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ed8ee325-455d-422e-92e1-82ddf10ec4d4" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="778b06a8-dc9d-4954-9642-5f18892cdd16" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - Wrong content-type" id="d0b6873d-7ed3-4707-a7d5-60225c10ffa1"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - Wrong content-type" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:assertion type="Valid HTTP Status Codes" id="fd2d1701-d694-4128-9519-35995cf22196" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ea18ba8b-51a4-495d-bc17-730019a5a6cd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment exist - Not be cancelled,failed,reversed within 72 hours" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="6780664b-2dcb-4704-a346-b6e8e879777c"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Agency_Number,Billing_System_Account from Payment_Transaction 
where Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id is not null)
And Transaction_Type = 'P'
And DATEDIFF(hour,Create_TimeStamp,getdate()) &lt; 72</con:query><con:assertion type="GroovyScriptAssertion" id="8713baa0-d1f0-496b-a1d1-e72492fc6c64" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert billingSystemAccount != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="49683357-bc81-49db-a125-c8e8bcd3b17b"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}"}</con:request><con:assertion type="Valid HTTP Status Codes" id="2f95249f-1ccb-4c36-92ca-143bf07c87b6" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d13e7d3f-071d-4062-a62d-51ca9cece7e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b405b055-2df1-40f5-b005-ff238d7519d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "true";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="204f655f-ec4f-47ee-abfc-458af3398a06" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment not exist - Not be cancelled,failed,reversed without 72 hours" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="c8eaba19-eab8-4091-b95b-9c5b83f166c2"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Agency_Number,Billing_System_Account from Payment_Transaction 
where Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Reference_Transaction_Id is not null)
And Transaction_Type = 'P'
And DATEDIFF(hour,Create_TimeStamp,getdate()) >= 72</con:query><con:assertion type="GroovyScriptAssertion" id="8713baa0-d1f0-496b-a1d1-e72492fc6c64" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert billingSystemAccount != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="7dc471c5-6d8c-4ec7-ba63-b1456305d264"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}"}</con:request><con:assertion type="Valid HTTP Status Codes" id="2f95249f-1ccb-4c36-92ca-143bf07c87b6" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d13e7d3f-071d-4062-a62d-51ca9cece7e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b405b055-2df1-40f5-b005-ff238d7519d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "false";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Billing_System_Account</con:name><con:value>1258q</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01158</con:value></con:property></con:properties></con:testCase><con:testCase id="7b3ac06f-93ab-4006-b172-7d6f3d0c81cc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment not exist - Cancelled within 72 hours" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="7e9034d7-cf1d-47e1-bae3-872ba7e8a66b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Billing_System_Account,Agency_Number from Payment_Transaction 
where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'C')
And DATEDIFF(hour,Processed_TimeStamp,getdate()) &lt; 72</con:query><con:assertion type="GroovyScriptAssertion" id="8713baa0-d1f0-496b-a1d1-e72492fc6c64" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert billingSystemAccount != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="ccb64f5a-d174-473d-9d00-c98707dde66e"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}"}</con:request><con:assertion type="Valid HTTP Status Codes" id="2f95249f-1ccb-4c36-92ca-143bf07c87b6" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d13e7d3f-071d-4062-a62d-51ca9cece7e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b405b055-2df1-40f5-b005-ff238d7519d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "false";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="d59a50b3-01e5-4357-9a2a-6fe011ac1f28" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment not exist - Failed within 72 hours" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="0402606b-7fb3-403c-a954-312bc5dfa79b"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Billing_System_Account,Agency_Number from Payment_Transaction 
where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'F')
And DATEDIFF(hour,Processed_TimeStamp,getdate()) &lt; 72</con:query><con:assertion type="GroovyScriptAssertion" id="8713baa0-d1f0-496b-a1d1-e72492fc6c64" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert billingSystemAccount != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="7d9cff1c-8dfb-4d9b-95c7-c13139fab4b9"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}"}</con:request><con:assertion type="Valid HTTP Status Codes" id="2f95249f-1ccb-4c36-92ca-143bf07c87b6" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d13e7d3f-071d-4062-a62d-51ca9cece7e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b405b055-2df1-40f5-b005-ff238d7519d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "false";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="07dd47aa-e35d-4957-8595-e23930c34fe2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment not exist - Reversed within 72 hours" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="1eda28b9-efb2-4f67-95e4-44ca2b851135"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Billing_System_Account,Agency_Number from Payment_Transaction 
where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'R')
And DATEDIFF(hour,Processed_TimeStamp,getdate()) &lt; 72</con:query><con:assertion type="GroovyScriptAssertion" id="8713baa0-d1f0-496b-a1d1-e72492fc6c64" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert billingSystemAccount != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="7347aa7f-18b0-40ca-8f09-e7b14c50cf75"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"agencyNumber":"${#TestCase#Agency_Number}","billingSystemAccount":"${#TestCase#Billing_System_Account}"}</con:request><con:assertion type="Valid HTTP Status Codes" id="2f95249f-1ccb-4c36-92ca-143bf07c87b6" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="d13e7d3f-071d-4062-a62d-51ca9cece7e1" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b405b055-2df1-40f5-b005-ff238d7519d8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def isDuplicate = root.get("isDuplicate");

assert requestStatus == 0;
assert isDuplicate == "false";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Billing_System_Account</con:name><con:value>123abc123</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="a2162942-034c-4b78-869c-ce48f7984208" name="TestSuite - Reverse payment"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="42ee094f-99b0-4ff6-999e-e54026d0edd6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Empty request" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Empty request" id="80813c7e-1291-4cbf-916f-8db17c661aba"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Empty request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="adfde5c3-078b-4514-a5d5-cd5a113889cc" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3d8ca2b1-41da-4bd3-9e2b-ad4a9ace850e" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="562f9903-d9f1-4a2a-9260-70b3a5b10ad8" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="dd470532-4b67-4f97-a770-85f06372df1a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Error response - 500 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="500 error - Wrong content-type" id="d2071174-c6eb-4ff8-bfac-5f329e60e6d6"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="500 error - Wrong content-type" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="16dba940-1ba9-485a-8cbe-3eff8d470bfa" name="Check Status Codes"><con:configuration><codes>500</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="6e75be46-2894-45b0-b575-6d5122fd71f4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be reversed - Cancel transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="ed4c5063-69cd-4403-a1d5-b98d503b55b0"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'C'</con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="b60d7844-b74a-4e72-b499-b75d79591937"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>120</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="189d3a4e-4980-495e-b144-b4c0f6ed6d10" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be reversed - Reversal transaction" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="d2be624e-5199-47f0-a5f3-fcdb2400a021"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>Select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type = 'R'</con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="3e2b4041-eb45-4aae-8c20-da300346e6f3"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>60</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property></con:properties></con:testCase><con:testCase id="9c591410-2e25-4713-aa00-020f55fae45c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be reversed - Has been reversed" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="6f0e0242-ad8e-48da-a95d-d008e49f6943"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Payment_Transaction_Id,Agency_Number from Payment_Transaction where Payment_Transaction_Id in (select Top 1 Reference_Transaction_Id from Payment_Transaction where Transaction_Type  = 'R')</con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="1587bf5e-a6b2-426e-a646-3473abdf973c"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>50</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01111</con:value></con:property></con:properties></con:testCase><con:testCase id="5dc800f4-e862-4b89-b50b-5b7099e75fa5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be reversed - Not sent to ACH file" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="74005652-b2a7-4ac8-aa23-e6a8d1d79291"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction where Transaction_Type  = 'P' 
and Processed_TimeStamp is null</con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="3fb10301-3679-42f2-a03b-60f183393ee9"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>118</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>02512</con:value></con:property></con:properties></con:testCase><con:testCase id="7b7c5d18-b404-4f8d-b2f7-f4a376219bc1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment may not be reversed - Sent to ACH file &amp; Not be reversed &amp; Greater than 46 days" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="672551c6-5c15-40a9-80de-8e20d0f42fed"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 Payment_Transaction_Id,Agency_Number from Payment_Transaction 
where Transaction_Type  = 'P' 
and Processed_TimeStamp is not null
and Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Transaction_Type  in ('R','C','F'))
and DATEDIFF(day,Create_TimeStamp,getdate()) >= 46 </con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
assert paymentTransactionId != ""
assert agencyNumber != ""
context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="4353b081-1391-4b7d-827d-40f21444c257"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"${#TestCase#Payment_Transaction_Id}","agencyNumber":"${#TestCase#Agency_Number}"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -401;
assert errorDescription == "Payment may not be reversed";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value>100</con:value></con:property><con:property><con:name>Agency_Number</con:name><con:value>01158</con:value></con:property></con:properties></con:testCase><con:testCase id="f0557c94-6c62-4734-955c-3ec52942173b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Payment reversed successfully - Sent to ACH file &amp; Not be reversed &amp; Less than 46 days" searchProperties="true"><con:settings/><con:testStep type="jdbc" name="Select a row from database" id="60ee1364-5132-4f7a-986a-b86fe1a15b78"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:driver>com.microsoft.sqlserver.jdbc.SQLServerDriver</con:driver><con:connectionString>jdbc:sqlserver://mmqsqlgwv01.mmi.mig.corp\MMISQLGWQ12:49606;databaseName=AgentSweep_QA;IntegratedSecurity=true</con:connectionString><con:query>select Top 1 * from Payment_Transaction 
where Transaction_Type  = 'P' 
and Processed_TimeStamp is not null
and Payment_Transaction_Id not in (select Reference_Transaction_Id from Payment_Transaction where Transaction_Type  in ('R','C','F'))
and DATEDIFF(day,Create_TimeStamp,getdate()) &lt; 46 </con:query><con:assertion type="GroovyScriptAssertion" id="5c4204ed-9311-451d-97eb-22a2efd15285" name="Check results"><con:configuration><scriptText>import com.eviware.soapui.support.XmlHolder

def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context)
def paymentTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_TRANSACTION_ID}')
def agencyNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/AGENCY_NUMBER}')
def userId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/USER_ID}')
def billingSystemAccount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/BILLING_SYSTEM_ACCOUNT}')
def checkNumber = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/CHECK_NUMBER}')
def paymentAmount = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PAYMENT_AMOUNT}')
def insured = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/INSURED}')

def transactionType = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/TRANSACTION_TYPE}')
//def referenceTransactionId = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/REFERENCE_TRANSACTION_ID}')
def createTimeStamp = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/CREATE_TIMESTAMP}')
def processedTimeStamp = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/PROCESSED_TIMESTAMP[1]}')
def remittanceProcessTimeStamp = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row/REMITTANCE_PROCESS_TIMESTAMP[1]}')





def response = context.expand('${Select a row from database#ResponseAsXml#//Results/ResultSet/Row}')

//def test = xmlres.getNodeValue("//USER_ID")
log.info response





 
//assert paymentTransactionId != ""
//assert agencyNumber != ""

//context.getTestCase().setPropertyValue("Payment_Transaction_Id",paymentTransactionId.toString())
//context.getTestCase().setPropertyValue("Agency_Number",agencyNumber.toString())
//context.getTestCase().setPropertyValue("User_Id",userId.toString())
//context.getTestCase().setPropertyValue("Billing_System_Account",billingSystemAccount.toString())
//context.getTestCase().setPropertyValue("Check_Number",checkNumber.toString())
//context.getTestCase().setPropertyValue("Payment_Amount",paymentAmount.toString())
//context.getTestCase().setPropertyValue("Insured",insured.toString())

//context.getTestCase().setPropertyValue("Transaction_Type",transactionType.toString())
//context.getTestCase().setPropertyValue("Reference_Transaction_Id",referenceTransactionId.toString())
//context.getTestCase().setPropertyValue("Create_TimeStamp",createTimeStamp.toString())
//context.getTestCase().setPropertyValue("Processed_TimeStamp",processedTimeStamp.toString())
//context.getTestCase().setPropertyValue("Remittance_Process_TimeStamp",remittanceProcessTimeStamp.toString())
</scriptText></con:configuration></con:assertion><con:properties/></con:config></con:testStep><con:testStep type="restrequest" name="Send request" id="77ba9746-eb52-4bca-9975-7d99bd641e53"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send request" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"esw130","agencyNumber":"02512"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="GroovyScriptAssertion" id="64b090f3-d0c7-4570-b60a-f8db7c5030d5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="aafcbb5e-4db0-4057-b649-357171540c95" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="f5d0bd3f-ce81-4487-a33e-283794f418cd" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == 0;
assert errorDescription == "";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="jdbc" name="Check row of reversal transaction" id="e389015f-86f2-49fc-a138-85aebac2bfb5"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:testStep type="jdbc" name="Check row of reversed payment" id="bb3ccdcd-541d-4e48-b167-66755192d78a"><con:settings/><con:config xsi:type="con:JdbcRequestTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties/></con:config></con:testStep><con:properties><con:property><con:name>Payment_Transaction_Id</con:name><con:value/></con:property><con:property><con:name>Agency_Number</con:name><con:value/></con:property><con:property><con:name>User_Id</con:name><con:value/></con:property><con:property><con:name>Billing_System_Account</con:name><con:value/></con:property><con:property><con:name>Check_Number</con:name><con:value/></con:property><con:property><con:name>Payment_Amount</con:name><con:value/></con:property><con:property><con:name>Insured</con:name><con:value/></con:property><con:property><con:name>Transaction_Type</con:name><con:value/></con:property><con:property><con:name>Reference_Transaction_Id</con:name><con:value/></con:property><con:property><con:name>Create_TimeStamp</con:name><con:value>2016-09-13 13:06:28.52</con:value></con:property><con:property><con:name>Processed_TimeStamp</con:name><con:value>2016-09-13 16:06:28.523</con:value></con:property><con:property><con:name>Remittance_Process_TimeStamp</con:name><con:value>&lt;REMITTANCE_PROCESS_TIMESTAMP/></con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="9ffafe56-3a04-4ca7-85ad-b28345416ed8" name="OtherTestSuite - Database error"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="3dc527fc-ecb2-4778-8755-a0576d1b7778" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Authorization" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AIMs database error" id="cd04b983-b201-4e30-b16d-812072861c64"><con:settings/><con:config service="Authorization" resourcePath="/sweepauthorization/authorize" methodName="Authorization" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AIMs database error" id="9db066c2-32c2-4c8f-85a8-003ae5b592d5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/sweep/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1bd47d1b-7933-489c-8448-0c220a183cf5" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="db8be093-e6bd-4f82-af2c-dd3059ea94f4" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="77b75661-f0e7-4cb1-9099-284a3c2dad39" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="52f9faf3-71a4-46fb-9f31-18cefbb3e043" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Pay Transaction" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Sweep database error" id="d2f61df4-d486-450b-aa54-5bb63348adcd"><con:settings/><con:config service="Pay Transaction" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sweep database error" id="9625a9de-3636-47c9-b294-7f2a045780ba" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppaytransaction/sweep/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="604f40ea-9373-4e2a-aa61-c3f2f8019cd5" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="b1d65446-261d-4bee-ba38-a6952671296c" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="c7f22f45-c436-480e-a13d-9e7773540c45" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a4d30b77-9b1b-46dd-9e49-27848d7f8082" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Cancel(micro)" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Sweep database error" id="ac0d3a0b-e2a1-46ef-9857-47b2bac74bbd"><con:settings/><con:config service="Cancel(micro)" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sweep database error" id="d5d71509-1814-4158-a102-a1c32478e4a0" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{"paymentTransactionId":"","agencyNumber":"02512"}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization/authorization</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="9043914e-495d-419a-be32-0b6ada3b8107" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2c33ebf8-d7f7-48c5-8d63-631530a32742" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="0ab344cc-970a-4c15-bfa8-165bbcfa74bd" name="Check Response body"><con:configuration><scriptText>
import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="3a98645b-eee4-4751-9b88-e8d12fb2d509" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Fail" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Sweep database error" id="4e6e9119-4b09-4841-b6b8-25c245c094cc"><con:settings/><con:config service="Fail" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sweep database error" id="f01646b8-61b3-496f-ba5c-5eb507c5e563" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepfail/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="819e6794-bc7e-4864-8c2f-67fa4f33a48d" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="2ed50f20-b7f1-402c-824d-54e2beec24a6" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="73ac446a-5cda-4149-bbb3-ec3fcee5fd0a" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="55f19f03-eacc-45e7-a24c-f55145d0f839" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Duplicate payment" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Sweep database error" id="26e055be-bc1d-42fe-992f-1529eab3b2d0"><con:settings/><con:config service="Duplicate payment" resourcePath="/URI/abc" methodName="URI" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sweep database error" id="7cbbf0b7-af75-4a7f-afa8-86ae0804ce64" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:assertion type="Valid HTTP Status Codes" id="991cf6d7-3154-4100-b7e6-7554f844faa0" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fb98189d-d99e-4e4a-aca7-54f24b428cc5" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="3165083f-cec5-44ee-a0d2-d910e7b6a151" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="92d8bf2e-e218-4035-b0f6-9fbd5ed01b83" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Reverse Payment" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Sweep database error" id="35202b3d-4203-4061-9a83-b4d87ab0c0d0"><con:settings/><con:config service="Reverse payment" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sweep database error" id="96725b4a-b00b-4985-a028-234229ccfc8a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e4e86d70-f76e-4d9a-8a80-92603b392fb9" name="Check Status Codes"><con:configuration><codes>202</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="783aa553-763f-44c1-a4c7-bf0a89428bf0" name="Check Headers"><con:configuration><scriptText>assert messageExchange.responseHeaders["Content-Type"]==["application/json"]</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="6b38cd6c-9f63-4dcb-86b5-e4d70b21d30b" name="Check Response body"><con:configuration><scriptText>import groovy.json.JsonSlurper

def root = net.sf.json.JSONSerializer.toJSON(messageExchange.responseContent);
def requestStatus = root.get("requestStatus");
def errorDescription = root.get("errorDescription");

assert requestStatus == -501;
assert errorDescription == "Database error";</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="c03f04c4-04a0-44fc-a123-bf62b74f8dc7" name="Other TestSuite - 404,405 error"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="2861721c-1993-4cd8-b5be-1ec9930b6b6b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="404 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="404 error - Wrong URI" id="19172aa7-d4c2-434d-bb26-97e946f3d5dd"><con:settings/><con:config service="WebserviceWithWrongURI" resourcePath="/wrongURI" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="404 error - Wrong URI" id="96c04b65-9ed3-4280-9eaf-64a0be005bd0" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/wrongURI</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7c7992a6-659f-419a-8498-1fd575f7738c" name="Check Status Codes"><con:configuration><codes>404</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c7a6f8a5-747d-4615-9274-b56c74f14bbc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="405 error" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Authorization -Get method" id="f6da1706-ec6f-4257-b1a1-83d2d070d44c"><con:settings/><con:config service="Authorization - Wrong http method" resourcePath="/sweepauthorization/authorize" methodName="Authorize​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Authorization -Get method" id="050323b7-e4e2-4624-b1a3-8a5d4f47921a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepauthorization​/authorize​</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="901373c8-d34a-454f-803b-740bdeeb3776" name="Check Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Pay Transaction - Get method" id="b055879c-757e-49eb-b1e6-018ef25dd0a6"><con:settings/><con:config service="Pay Transaction - Wrong http method" resourcePath="/sweeppay/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Pay Transaction - Get method" id="c3a9e32f-1123-44ab-ab73-4feed61d8bc5" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweeppay/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="ae449a7f-775e-4b99-9eaa-58f874d2bd21" name="Valid HTTP Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Cancel(micro) - Get method" id="8c4ee192-bd1b-4b21-af3d-dea7487c7b08"><con:settings/><con:config service="Cancel(micro) - Wrong http method" resourcePath="/sweepcancel/cancel" methodName="Cancel" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Cancel(micro) - Get method" id="c1c45180-d372-4764-b0ed-dd48ac0cbdcb" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepcancel/cancel</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2fb81196-aaba-458c-aa04-f1469b061cbb" name="Check Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Fail - Get method" id="4322703d-c535-48de-94d3-24f8414f7bc6"><con:settings/><con:config service="Fail - Wrong http method" resourcePath="/sweepfail/fail" methodName="Fail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Fail - Get method" id="2ab37dbb-5319-4dda-b2a7-2939e4af8659" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="conten-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agenysweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agenysweep-n1.qa1.mmi.mig.corp/sweepfailpayment/fail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7524f24e-1bd7-42da-8cc1-1d449412542b" name="Check Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Duplicate payment - Get method" id="e8926544-f2c6-4445-80ab-a1c87cca74f1"><con:settings/><con:config service="Duplicate payment - Wrong http method" resourcePath="/URI/abc" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Duplicate payment - Get method" id="34402738-3273-4a3e-872a-3b150bafb854" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="content-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="040752bc-8d2c-46e9-bba3-3541bc45ab08" name="Check Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Reverse payment" id="fb82a641-ab89-4ef5-8b8c-5697a6a64134"><con:settings/><con:config service="Reverse payment - Wrong http method" resourcePath="/sweepreverse/reverse" methodName="Reverse​​" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Reverse payment" id="26b8adbe-9a74-42b0-b95a-be4cb5431811" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="conten-type" value="application/json" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://agentsweep-n1.qa1.mmi.mig.corp:8080</con:endpoint><con:request>{}</con:request><con:originalUri>http://agentsweep-n1.qa1.mmi.mig.corp/sweepreverse/reverse​​</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7ae454ad-ea63-4647-b8d1-b93510921539" name="Check Status Codes"><con:configuration><codes>405</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>